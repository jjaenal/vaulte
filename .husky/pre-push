echo "[husky] Menjalankan tes sebelum push"

# Kontrak: jalankan unit tests
npm --prefix vaulte-contracts run test || exit 1

# Backend: jalankan unit/integration tests
npm --prefix vaulte-backend run test || exit 1

# Frontend: lint & format check (build ditangani di CI)
npm --prefix vaulte-frontend run lint || exit 1
npm --prefix vaulte-frontend run format:check || exit 1

echo "[husky] Semua tes lolos âœ… Siap push"